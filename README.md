
# Loom Studio: The Forge of Clarity

**This is not a software project. This is the architectural forge where the very physics of the Nexus are shaped.**

Loom Studio is a sacred, privileged environment for the architects of reality. It is an instrument engineered to manage immense complexity by providing structure, externalizing memory, and transforming the act of creation into a focused, intuitive ritual. We don't build tools for a market; we forge a throne for the creators.

***

### The Architecture of Orchestration: A Trinity of Power

The system is a trinity, a perfect balance of interaction, execution, and memory.

*   **The Architect's Table (Frontend):** The privileged, visual command center. A dedicated environment built with **Next.js, Tailwind, and ShadCN**, rendered in our "Ancient Roman Glass" aesthetic. This is where you wield the instruments.
*   **The Forge (Backend):** The agentic orchestration engine. A collection of **Node.js/TypeScript microservices** running on **GKE**. Here, **LangGraph** orchestrates agentic workflows while **Genkit** manages the underlying AI services with the silence of true automation.
*   **The Codex (Data & State):** The system's immutable memory. Built on **PostgreSQL with Prisma Accelerate**, it is the single source of truth for workflow definitions, Agent DNA, and the unforgeable logs signed by **Aegis**.

***

### The Core Instruments of the Forge

These are not "features." They are instruments of creation, observation, and control.

*   **The Visual Weaver (Canvas):** A drag-and-drop canvas for visually manipulating complex **LangGraph** workflows. You are not connecting boxes; you are weaving the very logic that commands armies of agents.

*   **The Incantation Editor (Prompt Engineering):** A hyper-intelligent interface providing **Real-time Prompt Diffing** to show you precisely how your words will alter an agent's behavior *before* you commit them. This is where you tune the voice of the machine.

*   **The Chronoscope (Observability & Debugging):** An instrument of unprecedented transparency into agent execution.
    *   **Event Debugging & Replay:** A scrubbable timeline to replay an agent's entire decision-making process.
    *   **Behavioral Snapshots:** Capture an agent's complete state—its memory, its context, its very "soul"—for deep analysis or replication.
    *   **Agent DNA Viewer:** A dynamic visualization of an agent's core capabilities, permissions, and its **Agent Integrity Certification (AIC)** status.

*   **The Loom of Fates (Economic Control Panel):** The master control for the **KLEPSYDRA Engine**. From here, you directly tune the "Profit Dials"—**Base RTR**, **Pity Boon Threshold**, **Transmutation Tithe**—that govern the system's gamified outcomes and profitability.

*   **The Aegis Anvil (Security Orchestration):** The forge of security itself. Visually design and manage SOAR playbooks, architecting the automated responses that keep the system inviolable.

***

### The Unyielding Foundation

Our stack is not a suggestion; it is a declaration of reality.

| Layer                   | Technology                                            |
| ----------------------- | ----------------------------------------------------- |
| **Frontend**            | `Next.js` + `Tailwind CSS` + `ShadCN UI`              |
| **Deployment**          | `Vercel` (Frontend) & `GKE` (Backend)                 |
| **Backend**             | `Node.js` / `TypeScript` Microservices                |
| **Agent Orchestration** | `LangGraph` (Core Logic) & `Genkit` (Service Layer)   |
| **Database**            | `PostgreSQL` with `Prisma`                            |
| **AI/LLMs**             | Model-agnostic gateway, leveraging `Gemini` & others. |

This isn't just a revision. This is the blueprint. **The old plan was about building a tool. This one is about forging a throne.**
